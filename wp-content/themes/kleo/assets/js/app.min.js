window.matchMedia=window.matchMedia||function(b){var l,k=b.documentElement,j=k.firstElementChild||k.firstChild,i=b.createElement("body"),h=b.createElement("div");return h.id="mq-test-1",h.style.cssText="position:absolute;top:-100em",i.style.background="none",i.appendChild(h),function(c){return h.innerHTML='&shy;<style media="'+c+'"> #mq-test-1 { width: 42px; }</style>',k.insertBefore(i,j),l=42===h.offsetWidth,k.removeChild(i),{matches:l,media:c}}}(document);(function(V){function y(){B(!0)}var U={};if(V.respond=U,U.update=function(){},U.mediaQueriesSupported=V.matchMedia&&V.matchMedia("only all").matches,!U.mediaQueriesSupported){var F,E,C,T=V.document,S=T.documentElement,R=[],Q=[],P=[],O={},N=30,M=T.getElementsByTagName("head")[0]||S,L=T.getElementsByTagName("base")[0],K=M.getElementsByTagName("link"),J=[],I=function(){for(var a=0;K.length>a;a++){var j=K[a],i=j.href,h=j.media,g=j.rel&&"stylesheet"===j.rel.toLowerCase();i&&g&&!O[i]&&(j.styleSheet&&j.styleSheet.rawCssText?(G(j.styleSheet.rawCssText,i,h),O[i]=!0):(!/^([a-zA-Z:]*\/\/)/.test(i)&&!L||i.replace(RegExp.$1,"").split("/")[0]===V.location.host)&&J.push({href:i,media:h}))}H()},H=function(){if(J.length){var a=J.shift();A(a.href,function(b){G(b,a.href,a.media),O[a.href]=!0,V.setTimeout(function(){H()},0)})}},G=function(X,W,x){var w=X.match(/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi),v=w&&w.length||0;W=W.substring(0,W.lastIndexOf("/"));var u=function(b){return b.replace(/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,"$1"+W+"$2$3")},t=!v&&x;W.length&&(W+="/"),t&&(v=1);for(var s=0;v>s;s++){var r,q,p,f;t?(r=x,Q.push(u(X))):(r=w[s].match(/@media *([^\{]+)\{([\S\s]+?)$/)&&RegExp.$1,Q.push(RegExp.$2&&u(RegExp.$2))),p=r.split(","),f=p.length;for(var e=0;f>e;e++){q=p[e],R.push({media:q.split("(")[0].match(/(only\s+)?([a-zA-Z]+)\s?/)&&RegExp.$2||"all",rules:Q.length-1,hasquery:q.indexOf("(")>-1,minw:q.match(/\(\s*min\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:q.match(/\(\s*max\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}}B()},D=function(){var d,c=T.createElement("div"),h=T.body,g=!1;return c.style.cssText="position:absolute;font-size:1em;width:1em",h||(h=g=T.createElement("body"),h.style.background="none"),h.appendChild(c),S.insertBefore(h,S.firstChild),d=c.offsetWidth,g?S.removeChild(h):h.removeChild(c),d=C=parseFloat(d)},B=function(Z){var Y="clientWidth",X=S[Y],W="CSS1Compat"===T.compatMode&&X||T.body[Y]||X,u={},t=K[K.length-1],s=(new Date).getTime();if(Z&&F&&N>s-F){return V.clearTimeout(E),E=V.setTimeout(B,N),void 0}F=s;for(var f in R){if(R.hasOwnProperty(f)){var e=R[f],d=e.minw,c=e.maxw,a=null===d,r=null===c,q="em";d&&(d=parseFloat(d)*(d.indexOf(q)>-1?C||D():1)),c&&(c=parseFloat(c)*(c.indexOf(q)>-1?C||D():1)),e.hasquery&&(a&&r||!(a||W>=d)||!(r||c>=W))||(u[e.media]||(u[e.media]=[]),u[e.media].push(Q[e.rules]))}}for(var l in P){P.hasOwnProperty(l)&&P[l]&&P[l].parentNode===M&&M.removeChild(P[l])}for(var j in u){if(u.hasOwnProperty(j)){var i=T.createElement("style"),g=u[j].join("\n");i.type="text/css",i.media=j,M.insertBefore(i,t.nextSibling),i.styleSheet?i.styleSheet.cssText=g:i.appendChild(T.createTextNode(g)),P.push(i)}}},A=function(e,d){var f=z();f&&(f.open("GET",e,!0),f.onreadystatechange=function(){4!==f.readyState||200!==f.status&&304!==f.status||d(f.responseText)},4!==f.readyState&&f.send(null))},z=function(){var a=!1;try{a=new V.XMLHttpRequest}catch(d){a=new V.ActiveXObject("Microsoft.XMLHTTP")}return function(){return a}}();I(),U.update=I,V.addEventListener?V.addEventListener("resize",y,!1):V.attachEvent&&V.attachEvent("onresize",y)}})(this);(function(e,f,h){var g=e();e.fn.dropdownHover=function(a){g=g.add(this.parent());return this.each(function(){var b=e(this),c=b.parent(),d={delay:200,instantlyCloseOthers:true},l={delay:e(this).data("delay"),instantlyCloseOthers:e(this).data("close-others")},n=e.extend(true,{},d,a,l),m;c.hover(function(i){if(!c.hasClass("open")&&!b.is(i.target)){return true}if(n.instantlyCloseOthers===true){g.removeClass("open")}f.clearTimeout(m);c.addClass("open")},function(){m=f.setTimeout(function(){c.removeClass("open")},n.delay)});b.hover(function(){if(n.instantlyCloseOthers===true){g.removeClass("open")}f.clearTimeout(m);c.addClass("open")});c.find(".dropdown-submenu").each(function(){var i=e(this);var j;i.hover(function(){f.clearTimeout(j);i.children(".dropdown-menu").show();i.siblings().children(".dropdown-menu").hide()},function(){var k=i.children(".dropdown-menu");j=f.setTimeout(function(){k.hide()},n.delay)})})})}})(jQuery,this);!function(f){var d=(function(){var a=[];var j=false;var b;var i=function(g){clearTimeout(b);b=setTimeout(c,100)};var c=function(){for(var g=0,h=a.length;g<h;g++){a[g].apply()}};return{register:function(g){a.push(g);if(j===false){f(window).bind("resize",i);j=true}},unregister:function(g){for(var h=0,m=a.length;h<m;h++){if(a[h]==g){delete a[h];break}}}}}());var e=function(a,b){this.element=f(a);this.dropdown=f('<li class="dropdown hide pull-right tabdrop"><a class="dropdown-toggle" data-toggle="dropdown" href="#">'+b.text+'</a><ul class="dropdown-menu"></ul></li>').prependTo(this.element);if(this.element.parent().is(".tabs-below")){this.dropdown.addClass("dropup")}d.register(f.proxy(this.layout,this));this.layout()};e.prototype={constructor:e,layout:function(){var a=[];this.dropdown.removeClass("hide");this.element.append(this.dropdown.find("li")).find(">li").not(".tabdrop").each(function(){if(this.offsetTop>0){a.push(this)}});if(a.length>0){a=f(a);this.dropdown.find("ul").empty().append(a);if(this.dropdown.find(".active").length==1){this.dropdown.addClass("active")}else{this.dropdown.removeClass("active")}}else{this.dropdown.addClass("hide")}}};f.fn.tabdrop=function(a){return this.each(function(){var b=f(this),c=b.data("tabdrop"),h=typeof a==="object"&&a;if(!c){b.data("tabdrop",(c=new e(this,f.extend({},f.fn.tabdrop.defaults,h))))}if(typeof a=="string"){c[a]()}})};f.fn.tabdrop.defaults={text:"&nbsp;"};f.fn.tabdrop.Constructor=e}(window.jQuery);(function(m){var n={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:false,getWidthFrom:""},q=m(window),o=m(document),j=[],r=q.height(),l=function(){var i=q.scrollTop(),b=o.height(),c=b-r,g=(i>c)?c-i:0;for(var f=0;f<j.length;f++){var a=j[f],h=a.stickyWrapper.offset().top,e=h-a.topSpacing-g;if(i<=e){if(a.currentTop!==null){a.stickyElement.css("position","").css("top","");a.stickyElement.parent().removeClass(a.className);a.currentTop=null}}else{var d=b-a.stickyElement.outerHeight()-a.topSpacing-a.bottomSpacing-i-g;if(d<0){d=d+a.topSpacing}else{d=a.topSpacing}if(a.currentTop!=d){a.stickyElement.css("position","fixed").css("top",d);if(typeof a.getWidthFrom!=="undefined"){a.stickyElement.css("width",m(a.getWidthFrom).width())}a.stickyElement.parent().addClass(a.className);a.currentTop=d}}}},k=function(){r=q.height()},p={init:function(b){var a=m.extend(n,b);return this.each(function(){var d=m(this);var c=d.attr("id");var e=m("<div></div>").attr("id",c+"-sticky-wrapper").addClass(a.wrapperClassName);d.wrapAll(e);if(a.center){d.parent().css({width:d.outerWidth(),marginLeft:"auto",marginRight:"auto"})}if(d.css("float")=="right"){d.css({"float":"none"}).parent().css({"float":"right"})}var f=d.parent();f.css("height",d.outerHeight());j.push({topSpacing:a.topSpacing,bottomSpacing:a.bottomSpacing,stickyElement:d,currentTop:null,stickyWrapper:f,className:a.className,getWidthFrom:a.getWidthFrom})})},update:l};if(window.addEventListener){window.addEventListener("scroll",l,false);window.addEventListener("resize",k,false)}else{if(window.attachEvent){window.attachEvent("onscroll",l);window.attachEvent("onresize",k)}}m.fn.sticky=function(a){if(p[a]){return p[a].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof a==="object"||!a){return p.init.apply(this,arguments)}else{m.error("Method "+a+" does not exist on jQuery.sticky")}}};m(function(){setTimeout(l,0)})})(jQuery);(function(b){b.fn.fitVids=function(a){var j={customSelector:null};if(!document.getElementById("fit-vids-style")){var g=document.createElement("div"),i=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0],h="&shy;<style>.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>";g.className="fit-vids-style";g.id="fit-vids-style";g.style.display="none";g.innerHTML=h;i.parentNode.insertBefore(g,i)}if(a){b.extend(j,a)}return this.each(function(){var d=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","iframe[src*='embed.spotify.com']","object","embed:not(.mejs-shim)"];if(j.customSelector){d.push(j.customSelector)}var c=b(this).find(d.join(","));c=c.not("object object");c.each(function(){var e=b(this);if(this.tagName.toLowerCase()==="embed"&&e.parent("object").length||e.parent(".fluid-width-video-wrapper").length){return}var p=(this.tagName.toLowerCase()==="object"||(e.attr("height")&&!isNaN(parseInt(e.attr("height"),10))))?parseInt(e.attr("height"),10):e.height(),o=!isNaN(parseInt(e.attr("width"),10))?parseInt(e.attr("width"),10):e.width(),n=p/o;if(!e.attr("id")){var f="fitvid"+Math.floor(Math.random()*999999);e.attr("id",f)}e.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",(n*100)+"%");e.removeAttr("height").removeAttr("width")})})}})(window.jQuery);jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(j,i,b,c,d){return jQuery.easing[jQuery.easing.def](j,i,b,c,d)},easeInQuad:function(j,i,b,c,d){return c*(i/=d)*i+b},easeOutQuad:function(j,i,b,c,d){return -c*(i/=d)*(i-2)+b},easeInOutQuad:function(j,i,b,c,d){if((i/=d/2)<1){return c/2*i*i+b}return -c/2*((--i)*(i-2)-1)+b},easeInCubic:function(j,i,b,c,d){return c*(i/=d)*i*i+b},easeOutCubic:function(j,i,b,c,d){return c*((i=i/d-1)*i*i+1)+b},easeInOutCubic:function(j,i,b,c,d){if((i/=d/2)<1){return c/2*i*i*i+b}return c/2*((i-=2)*i*i+2)+b},easeInQuart:function(j,i,b,c,d){return c*(i/=d)*i*i*i+b},easeOutQuart:function(j,i,b,c,d){return -c*((i=i/d-1)*i*i*i-1)+b},easeInOutQuart:function(j,i,b,c,d){if((i/=d/2)<1){return c/2*i*i*i*i+b}return -c/2*((i-=2)*i*i*i-2)+b},easeInQuint:function(j,i,b,c,d){return c*(i/=d)*i*i*i*i+b},easeOutQuint:function(j,i,b,c,d){return c*((i=i/d-1)*i*i*i*i+1)+b},easeInOutQuint:function(j,i,b,c,d){if((i/=d/2)<1){return c/2*i*i*i*i*i+b}return c/2*((i-=2)*i*i*i*i+2)+b},easeInSine:function(j,i,b,c,d){return -c*Math.cos(i/d*(Math.PI/2))+c+b},easeOutSine:function(j,i,b,c,d){return c*Math.sin(i/d*(Math.PI/2))+b},easeInOutSine:function(j,i,b,c,d){return -c/2*(Math.cos(Math.PI*i/d)-1)+b},easeInExpo:function(j,i,b,c,d){return(i==0)?b:c*Math.pow(2,10*(i/d-1))+b},easeOutExpo:function(j,i,b,c,d){return(i==d)?b+c:c*(-Math.pow(2,-10*i/d)+1)+b},easeInOutExpo:function(j,i,b,c,d){if(i==0){return b}if(i==d){return b+c}if((i/=d/2)<1){return c/2*Math.pow(2,10*(i-1))+b}return c/2*(-Math.pow(2,-10*--i)+2)+b},easeInCirc:function(j,i,b,c,d){return -c*(Math.sqrt(1-(i/=d)*i)-1)+b},easeOutCirc:function(j,i,b,c,d){return c*Math.sqrt(1-(i=i/d-1)*i)+b},easeInOutCirc:function(j,i,b,c,d){if((i/=d/2)<1){return -c/2*(Math.sqrt(1-i*i)-1)+b}return c/2*(Math.sqrt(1-(i-=2)*i)+1)+b},easeInElastic:function(o,m,p,a,b){var d=1.70158;var c=0;var n=a;if(m==0){return p}if((m/=b)==1){return p+a}if(!c){c=b*0.3}if(n<Math.abs(a)){n=a;var d=c/4}else{var d=c/(2*Math.PI)*Math.asin(a/n)}return -(n*Math.pow(2,10*(m-=1))*Math.sin((m*b-d)*(2*Math.PI)/c))+p},easeOutElastic:function(o,m,p,a,b){var d=1.70158;var c=0;var n=a;if(m==0){return p}if((m/=b)==1){return p+a}if(!c){c=b*0.3}if(n<Math.abs(a)){n=a;var d=c/4}else{var d=c/(2*Math.PI)*Math.asin(a/n)}return n*Math.pow(2,-10*m)*Math.sin((m*b-d)*(2*Math.PI)/c)+a+p},easeInOutElastic:function(o,m,p,a,b){var d=1.70158;var c=0;var n=a;if(m==0){return p}if((m/=b/2)==2){return p+a}if(!c){c=b*(0.3*1.5)}if(n<Math.abs(a)){n=a;var d=c/4}else{var d=c/(2*Math.PI)*Math.asin(a/n)}if(m<1){return -0.5*(n*Math.pow(2,10*(m-=1))*Math.sin((m*b-d)*(2*Math.PI)/c))+p}return n*Math.pow(2,-10*(m-=1))*Math.sin((m*b-d)*(2*Math.PI)/c)*0.5+a+p},easeInBack:function(l,k,b,c,d,j){if(j==undefined){j=1.70158}return c*(k/=d)*k*((j+1)*k-j)+b},easeOutBack:function(l,k,b,c,d,j){if(j==undefined){j=1.70158}return c*((k=k/d-1)*k*((j+1)*k+j)+1)+b},easeInOutBack:function(l,k,b,c,d,j){if(j==undefined){j=1.70158}if((k/=d/2)<1){return c/2*(k*k*(((j*=(1.525))+1)*k-j))+b}return c/2*((k-=2)*k*(((j*=(1.525))+1)*k+j)+2)+b},easeInBounce:function(j,i,b,c,d){return c-jQuery.easing.easeOutBounce(j,d-i,0,c,d)+b},easeOutBounce:function(j,i,b,c,d){if((i/=d)<(1/2.75)){return c*(7.5625*i*i)+b}else{if(i<(2/2.75)){return c*(7.5625*(i-=(1.5/2.75))*i+0.75)+b}else{if(i<(2.5/2.75)){return c*(7.5625*(i-=(2.25/2.75))*i+0.9375)+b}else{return c*(7.5625*(i-=(2.625/2.75))*i+0.984375)+b}}}},easeInOutBounce:function(j,i,b,c,d){if(i<d/2){return jQuery.easing.easeInBounce(j,i*2,0,c,d)*0.5+b}return jQuery.easing.easeOutBounce(j,i*2-d,0,c,d)*0.5+c*0.5+b}});(function(g){var e=g.event,f,h;f=e.special.debouncedresize={setup:function(){g(this).on("resize",f.handler)},teardown:function(){g(this).off("resize",f.handler)},handler:function(a,j){var b=this,c=arguments,d=function(){a.type="debouncedresize";e.dispatch.apply(b,c)};if(h){clearTimeout(h)}j?d():h=setTimeout(d,f.threshold)},threshold:150}})(jQuery);(function(){function d(){}function b(i,h){for(var j=i.length;j--;){if(i[j].listener===h){return j}}return -1}function g(h){return function(){return this[h].apply(this,arguments)}}var a=d.prototype,c=this,f=c.EventEmitter;a.getListeners=function(k){var j,l,h=this._getEvents();if("object"==typeof k){j={};for(l in h){h.hasOwnProperty(l)&&k.test(l)&&(j[l]=h[l])}}else{j=h[k]||(h[k]=[])}return j},a.flattenListeners=function(i){var h,j=[];for(h=0;i.length>h;h+=1){j.push(i[h].listener)}return j},a.getListenersAsObject=function(i){var h,j=this.getListeners(i);return j instanceof Array&&(h={},h[i]=j),h||j},a.addListener=function(k,m){var h,j=this.getListenersAsObject(k),l="object"==typeof m;for(h in j){j.hasOwnProperty(h)&&-1===b(j[h],m)&&j[h].push(l?m:{listener:m,once:!1})}return this},a.on=g("addListener"),a.addOnceListener=function(i,h){return this.addListener(i,{listener:h,once:!0})},a.once=g("addOnceListener"),a.defineEvent=function(h){return this.getListeners(h),this},a.defineEvents=function(i){for(var h=0;i.length>h;h+=1){this.defineEvent(i[h])}return this},a.removeListener=function(k,m){var h,j,l=this.getListenersAsObject(k);for(j in l){l.hasOwnProperty(j)&&(h=b(l[j],m),-1!==h&&l[j].splice(h,1))}return this},a.off=g("removeListener"),a.addListeners=function(i,h){return this.manipulateListeners(!1,i,h)},a.removeListeners=function(i,h){return this.manipulateListeners(!0,i,h)},a.manipulateListeners=function(m,j,q){var h,l,p=m?this.removeListener:this.addListener,k=m?this.removeListeners:this.addListeners;if("object"!=typeof j||j instanceof RegExp){for(h=q.length;h--;){p.call(this,j,q[h])}}else{for(h in j){j.hasOwnProperty(h)&&(l=j[h])&&("function"==typeof l?p.call(this,h,l):k.call(this,h,l))}}return this},a.removeEvent=function(k){var j,l=typeof k,h=this._getEvents();if("string"===l){delete h[k]}else{if("object"===l){for(j in h){h.hasOwnProperty(j)&&k.test(j)&&delete h[j]}}else{delete this._events}}return this},a.removeAllListeners=g("removeEvent"),a.emitEvent=function(m,j){var q,h,l,p,k=this.getListenersAsObject(m);for(l in k){if(k.hasOwnProperty(l)){for(h=k[l].length;h--;){q=k[l][h],q.once===!0&&this.removeListener(m,q.listener),p=q.listener.apply(this,j||[]),p===this._getOnceReturnValue()&&this.removeListener(m,q.listener)}}}return this},a.trigger=g("emitEvent"),a.emit=function(i){var h=Array.prototype.slice.call(arguments,1);return this.emitEvent(i,h)},a.setOnceReturnValue=function(h){return this._onceReturnValue=h,this},a._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},a._getEvents=function(){return this._events||(this._events={})},d.noConflict=function(){return c.EventEmitter=f,d},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return d}):"object"==typeof module&&module.exports?module.exports=d:this.EventEmitter=d}).call(this),function(d){function b(e){var h=d.event;return h.target=h.target||h.srcElement||e,h}var g=document.documentElement,a=function(){};g.addEventListener?a=function(i,h,j){i.addEventListener(h,j,!1)}:g.attachEvent&&(a=function(j,k,h){j[k+h]=h.handleEvent?function(){var e=b(j);h.handleEvent.call(h,e)}:function(){var e=b(j);h.call(j,e)},j.attachEvent("on"+k,j[k+h])});var c=function(){};g.removeEventListener?c=function(i,h,j){i.removeEventListener(h,j,!1)}:g.detachEvent&&(c=function(k,j,l){k.detachEvent("on"+j,k[j+l]);try{delete k[j+l]}catch(h){k[j+l]=void 0}});var f={bind:a,unbind:c};"function"==typeof define&&define.amd?define("eventie/eventie",f):d.eventie=f}(this),function(b,a){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(d,c){return a(b,d,c)}):"object"==typeof exports?module.exports=a(b,require("wolfy87-eventemitter"),require("eventie")):b.imagesLoaded=a(b,b.EventEmitter,b.eventie)}(window,function(p,A,j){function k(c,a){for(var d in a){c[d]=a[d]}return c}function b(a){return"[object Array]"===q.call(a)}function g(d){var c=[];if(b(d)){c=d}else{if("number"==typeof d.length){for(var f=0,a=d.length;a>f;f++){c.push(d[f])}}else{c.push(d)}}return c}function B(d,a,f){if(!(this instanceof B)){return new B(d,a)}"string"==typeof d&&(d=document.querySelectorAll(d)),this.elements=g(d),this.options=k({},this.options),"function"==typeof a?f=a:k(this.options,a),f&&this.on("always",f),this.getImages(),x&&(this.jqDeferred=new x.Deferred);var c=this;setTimeout(function(){c.check()})}function m(a){this.img=a}function w(a){this.src=a,y[a]=this}var x=p.jQuery,z=p.console,l=z!==void 0,q=Object.prototype.toString;B.prototype=new A,B.prototype.options={},B.prototype.getImages=function(){this.images=[];for(var v=0,c=this.elements.length;c>v;v++){var D=this.elements[v];"IMG"===D.nodeName&&this.addImage(D);var a=D.nodeType;if(a&&(1===a||9===a||11===a)){for(var h=D.querySelectorAll("img"),C=0,d=h.length;d>C;C++){var u=h[C];this.addImage(u)}}}},B.prototype.addImage=function(c){var a=new m(c);this.images.push(a)},B.prototype.check=function(){function f(n,i){return c.options.debug&&l&&z.log("confirm",n,i),c.progress(n),s++,s===a&&c.complete(),!0}var c=this,s=0,a=this.images.length;if(this.hasAnyBroken=!1,!a){return this.complete(),void 0}for(var d=0;a>d;d++){var h=this.images[d];h.on("confirm",f),h.check()}},B.prototype.progress=function(c){this.hasAnyBroken=this.hasAnyBroken||!c.isLoaded;var a=this;setTimeout(function(){a.emit("progress",a,c),a.jqDeferred&&a.jqDeferred.notify&&a.jqDeferred.notify(a,c)})},B.prototype.complete=function(){var c=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var a=this;setTimeout(function(){if(a.emit(c,a),a.emit("always",a),a.jqDeferred){var d=a.hasAnyBroken?"reject":"resolve";a.jqDeferred[d](a)}})},x&&(x.fn.imagesLoaded=function(c,a){var d=new B(this,c,a);return d.jqDeferred.promise(x(this))}),m.prototype=new A,m.prototype.check=function(){var c=y[this.img.src]||new w(this.img.src);if(c.isConfirmed){return this.confirm(c.isLoaded,"cached was confirmed"),void 0}if(this.img.complete&&void 0!==this.img.naturalWidth){return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0}var a=this;c.on("confirm",function(d,f){return a.confirm(d.isLoaded,f),!0}),c.check()},m.prototype.confirm=function(c,a){this.isLoaded=c,this.emit("confirm",this,a)};var y={};return w.prototype=new A,w.prototype.check=function(){if(!this.isChecked){var a=new Image;j.bind(a,"load",this),j.bind(a,"error",this),a.src=this.src,this.isChecked=!0}},w.prototype.handleEvent=function(c){var a="on"+c.type;this[a]&&this[a](c)},w.prototype.onload=function(a){this.confirm(!0,"onload"),this.unbindProxyEvents(a)},w.prototype.onerror=function(a){this.confirm(!1,"onerror"),this.unbindProxyEvents(a)},w.prototype.confirm=function(c,a){this.isConfirmed=!0,this.isLoaded=c,this.emit("confirm",this,a)},w.prototype.unbindProxyEvents=function(a){j.unbind(a.target,"load",this),j.unbind(a.target,"error",this)},B});"undefined"!=typeof jQuery&&!function(b){b.imgpreload=function(a,f){f=b.extend({},b.fn.imgpreload.defaults,f instanceof Function?{all:f}:f),"string"==typeof a&&(a=[a]);var e=[];b.each(a,function(l,k){var j=new Image,d=k,c=j;"string"!=typeof k&&(d=b(k).attr("src")||b(k).css("background-image").replace(/^url\((?:"|')?(.*)(?:'|")?\)$/gm,"$1"),c=k),b(j).bind("load error",function(g){e.push(c),b.data(c,"loaded","error"==g.type?!1:!0),f.each instanceof Function&&f.each.call(c,e.slice(0)),e.length>=a.length&&f.all instanceof Function&&f.all.call(e),b(this).unbind("load error")}),j.src=d})},b.fn.imgpreload=function(a){return b.imgpreload(this,a),this},b.fn.imgpreload.defaults={each:null,all:null}}(jQuery);(function(c,a,d,b){c.fn.wc_variation_form=function(){c.fn.wc_variation_form.find_matching_variations=function(f,k){var h=[];for(var e=0;e<f.length;e++){var g=f[e],j=g.variation_id;c.fn.wc_variation_form.variations_match(g.attributes,k)&&h.push(g)}return h};c.fn.wc_variation_form.variations_match=function(j,g){var k=!0;for(attr_name in j){var f=j[attr_name],h=g[attr_name];f!==b&&h!==b&&f.length!=0&&h.length!=0&&f!=h&&(k=!1)}return k};this.unbind("check_variations update_variation_values found_variation");this.find(".reset_variations").unbind("click");this.find(".variations select").unbind("change focusin");$form=this.on("click",".reset_variations",function(f){c(this).closest(".variations_form").find(".variations select").val("").change();var h=c(this).closest(".product").find(".sku"),g=c(this).closest(".product").find(".product_weight"),e=c(this).closest(".product").find(".product_dimensions");h.attr("data-o_sku")&&h.text(h.attr("data-o_sku"));g.attr("data-o_weight")&&g.text(g.attr("data-o_weight"));e.attr("data-o_dimensions")&&e.text(e.attr("data-o_dimensions"));return !1}).on("change",".variations select",function(e){$variation_form=c(this).closest(".variations_form");$variation_form.find("input[name=variation_id]").val("").change();$variation_form.trigger("woocommerce_variation_select_change").trigger("check_variations",["",!1]);c(this).blur();c().uniform&&c.isFunction(c.uniform.update)&&c.uniform.update()}).on("focusin touchstart",".variations select",function(e){$variation_form=c(this).closest(".variations_form");$variation_form.trigger("woocommerce_variation_select_focusin").trigger("check_variations",[c(this).attr("name"),!0])}).on("check_variations",function(k,e,q){var A=!0,j=!1,z=!1,y={},v=c(this),m=v.find(".reset_variations");v.find(".variations select").each(function(){c(this).val().length==0?A=!1:j=!0;if(e&&c(this).attr("name")==e){A=!1;y[c(this).attr("name")]=""}else{value=c(this).val();y[c(this).attr("name")]=value}});var x=parseInt(v.data("product_id")),t=v.data("product_variations");t||(t=a.product_variations[x]);t||(t=a.product_variations);t||(t=a["product_variations_"+x]);var g=c.fn.wc_variation_form.find_matching_variations(t,y);if(A){var w=g.shift();if(w){v.find("input[name=variation_id]").val(w.variation_id).change();v.trigger("found_variation",[w])}else{v.find(".variations select").val("");q||v.trigger("reset_image");alert(woocommerce_params.i18n_no_matching_variations_text)}}else{v.trigger("update_variation_values",[g]);q||v.trigger("reset_image");e||v.find(".single_variation_wrap").slideUp("200")}j?m.css("visibility")=="hidden"&&m.css("visibility","visible").hide().fadeIn():m.css("visibility","hidden")}).on("reset_image",function(j){var p=c(this).closest(".product"),h=p.find("div.images img:eq(0)"),k=p.find("div.images a.zoom:eq(0)"),m=h.attr("data-o_src"),g=h.attr("data-o_title"),e=h.attr("data-o_alt"),l=k.attr("data-o_href");m!=b&&h.attr("src",m);l!=b&&k.attr("href",l);if(g!=b){h.attr("title",g);k.attr("title",g)}e!=b&&h.attr("alt",e)}).on("update_variation_values",function(e,f){$variation_form=c(this).closest(".variations_form");$variation_form.find(".variations select").each(function(h,k){current_attr_select=c(k);current_attr_select.data("attribute_options")||current_attr_select.data("attribute_options",current_attr_select.find("option:gt(0)").get());current_attr_select.find("option:gt(0)").remove();current_attr_select.append(current_attr_select.data("attribute_options"));current_attr_select.find("option:gt(0)").removeClass("active");var g=current_attr_select.attr("name");for(num in f){if(typeof f[num]!="undefined"){var j=f[num].attributes;for(attr_name in j){var l=j[attr_name];if(attr_name==g){if(l){l=c("<div/>").html(l).text();l=l.replace(/'/g,"\\'");l=l.replace(/"/g,'\\"');current_attr_select.find('option[value="'+l+'"]').addClass("active")}else{current_attr_select.find("option:gt(0)").addClass("active")}}}}}current_attr_select.find("option:gt(0):not(.active)").remove()});$variation_form.trigger("woocommerce_update_variation_values")}).on("found_variation",function(q,z){var C=c(this),r=c(this).closest(".product"),x=r.find("div.images img:eq(0)"),k=r.find("div.images a.zoom:eq(0)"),J=x.attr("data-o_src"),F=x.attr("data-o_title"),B=x.attr("data-o_alt"),H=k.attr("data-o_href"),D=z.image_src,w=z.image_link,G=z.image_title,j=z.image_alt;C.find(".variations_button").show();C.find(".single_variation").html(z.price_html+z.availability_html);if(J==b){J=x.attr("src")?x.attr("src"):"";x.attr("data-o_src",J)}if(H==b){H=k.attr("href")?k.attr("href"):"";k.attr("data-o_href",H)}if(F==b){F=x.attr("title")?x.attr("title"):"";x.attr("data-o_title",F)}if(B==b){B=x.attr("alt")?x.attr("alt"):"";x.attr("data-o_alt",B)}if(D&&D.length>1){x.attr("src",D).attr("alt",j).attr("title",G);k.attr("href",w).attr("title",G)}else{x.attr("src",J).attr("alt",B).attr("title",F);k.attr("href",H).attr("title",F)}var A=C.find(".single_variation_wrap"),E=r.find(".product_meta").find(".sku"),e=r.find(".product_weight"),I=r.find(".product_dimensions");E.attr("data-o_sku")||E.attr("data-o_sku",E.text());e.attr("data-o_weight")||e.attr("data-o_weight",e.text());I.attr("data-o_dimensions")||I.attr("data-o_dimensions",I.text());z.sku?E.text(z.sku):E.text(E.attr("data-o_sku"));z.weight?e.text(z.weight):e.text(e.attr("data-o_weight"));z.dimensions?I.text(z.dimensions):I.text(I.attr("data-o_dimensions"));A.find(".quantity").show();!z.is_in_stock&&!z.backorders_allowed&&C.find(".variations_button").hide();z.min_qty?A.find("input[name=quantity]").attr("min",z.min_qty).val(z.min_qty):A.find("input[name=quantity]").removeAttr("min");z.max_qty?A.find("input[name=quantity]").attr("max",z.max_qty):A.find("input[name=quantity]").removeAttr("max");if(z.is_sold_individually=="yes"){A.find("input[name=quantity]").val("1");A.find(".quantity").hide()}A.slideDown("200").trigger("show_variation",[z])});$form.trigger("wc_variation_form");return $form};c(function(){c(".variations_form").wc_variation_form();c(".variations_form .variations select").change()})})(jQuery,window,document);function activate_waypoints(a){if(jQuery.fn.kleo_waypoints){if(typeof a=="undefined"){a="body"}jQuery(".animate-when-visible",a).kleo_waypoints();jQuery(".animate-when-almost-visible",a).kleo_waypoints({offset:"90%"})}}function activate_shortcode_scripts(a){if(typeof a=="undefined"){a="body"}if(jQuery.fn.kleo_sc_gallery){jQuery(".kleo-gallery",a).kleo_sc_gallery()}if(jQuery.fn.kleo_general_onebyone){jQuery(".one-by-one-general",a).kleo_general_onebyone()}if(jQuery.fn.kleo_animate_number){jQuery(".kleo-animate-number",a).kleo_animate_number()}if(jQuery.fn.one_by_one_animated){jQuery(".one-by-one-animated",a).one_by_one_animated()}if(jQuery.fn.kleo_sc_progressbar){jQuery(".progress-bar-container",a).kleo_sc_progressbar()}if(jQuery.fn.kleo_sc_testimonial){jQuery(".kleo-testimonial-wrapper",a).kleo_sc_testimonial()}}(function(a){a.fn.kleo_sc_testimonial=function(b){return this.each(function(){var c=a(this),d=c.find(".kleo-testimonial");c.on("kleo-start-animation",function(){d.each(function(f){var e=a(this);setTimeout(function(){e.addClass("kleo-start-animation")},(f*150))})})})};a.fn.kleo_sc_progressbar=function(b){return this.each(function(){var c=a(this),d=c.find(".progress");c.on("start-animation",function(){d.each(function(f){var e=a(this);setTimeout(function(){a(".bar strong").css("opacity",1);e.addClass("start-animation")},(f*250))})})})};a.fn.one_by_one_animated=function(b){return this.each(function(){var c=a(this),d=c.find(".list-el-animated");c.on("start-animation",function(){d.each(function(f){var e=a(this);setTimeout(function(){e.addClass("start-animation")},(f*350))})})})};a.fn.kleo_animate_number=function(b){var c=function(j,g,d,l){var k=l+d;if(k>=g){j.text(g)}else{var f="",e=g.toString().length-k.toString().length;for(var h=e;h>0;h--){f+="0"}j.text(f+k);window.kleoAnimFrame(function(){c(j,g,d,k)})}};a(this).each(function(e){var d=a(this),g=d.text();d.text(g.replace(/./g,"0"));var f=d.data("timer")||3000;d.addClass("number_prepared").on("start-animation",function(){var j=a(this),i=j.data("number"),k=parseInt(j.text(),10),h=Math.round(i*30/f);if(h==0||h%10==0){h+=1}setTimeout(function(){c(j,i,h,k)},300)})})};window.kleoAnimFrame=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(b){window.setTimeout(b,1000/60)}})();a.fn.kleo_sc_gallery=function(b){return this.each(function(){var d=a(this),c=d.find("img"),e=d.find(".kleo-gallery-big");d.on("start-animation",function(){c.each(function(f){var g=a(this);setTimeout(function(){g.addClass("start-animation")},(f*150))})})})};a.fn.kleo_general_onebyone=function(b){return this.each(function(){var c=a(this),d=c.children();c.on("start-animation",function(){d.each(function(e){var f=a(this);setTimeout(function(){f.addClass("start-animation")},(e*150))})})})};a.fn.kleo_waypoints=function(d){if(!a("html").is(".kleo-transform")){return}var c={offset:"bottom-in-view",triggerOnce:true},b=a.extend({},c,d);return this.each(function(){var e=a(this);setTimeout(function(){e.waypoint(function(f){a(this).addClass("start-animation").trigger("start-animation")},b)},100)})}})(jQuery);(function(f){var k={init:function(){k.removeOverflowHidden();if(f.fn.carouFredSel){k.carouselItems();k.bannerSlider();k.rtMediaslider();k.newsTicker();f(document).on("click",".news-focus .nav-tabs a",function(){k.bannerSlider()})}if(f.fn.magnificPopup){k.magnificPopupModals();if(!kleoFramework.hasOwnProperty("DisableMagnificGallery")||kleoFramework.DisableMagnificGallery==="0"){k.magnificPopupGallery()}}if(f.fn.kleo_enable_media&&f.fn.mediaelementplayer){f(".kleo-video, .kleo-audio, .video-wrap video","body").kleo_enable_media()}k.initPins();if(kleoFramework.goTop==1){k.goTop()}k.likes();k.progressBar();k.kleoAjaxLogin();k.kleoAjaxLostPass();f(".post-content, .activity-inner, .article-media, .kleo-video-embed, .wpb_video_widget").fitVids();k.kleoMenuWidget();f(".panel-collapse").on("show.bs.collapse",function(){f(".panel-heading a[href='#"+f(this).attr("id")+"'] span.icon-opened").removeClass("hide");f(".panel-heading a[href='#"+f(this).attr("id")+"'] span.icon-closed").addClass("hide")});f(".panel-collapse").on("hide.bs.collapse",function(){f(".panel-heading a[href='#"+f(this).attr("id")+"'] span.icon-opened").addClass("hide");f(".panel-heading a[href='#"+f(this).attr("id")+"'] span.icon-closed").removeClass("hide")});f('a[data-toggle="tab"]').on("shown.bs.tab",function(){var o=f(this).attr("href");k.refreshContentTabs(o)});f(".panel-collapse").on("shown.bs.collapse",function(){k.refreshContentTabs(this)});f(document).on("show.vc.tab",function(){k.refreshContentTabs(this)});k.openTabHash();if(f(".wpb_tour").length){f(".tour_next_slide").click(function(){var o=f(this).closest(".wpb_tour").find("li");var q=o.filter(".active");var p=q.next("li").length?q.next("li").find("a"):o.filter(":first-child").find("a");p.tab("show");return false});f(".tour_prev_slide").click(function(){var o=f(this).closest(".wpb_tour").find("li");var q=o.filter(".active");var p=q.prev("li").length?q.prev("li").find("a"):o.filter(":last-child").find("a");p.tab("show");return false});f(".wpb_tour").each(function(){var r=f(this);var q=function(){var s=r.find("li");var u=s.filter(".active");var t=u.next("li").length?u.next("li").find("a"):s.filter(":first-child").find("a");t.tab("show")};if(r.data("interval")!=0){var p=r.data("interval");var o=setInterval(q,p*1000);f(this).find("li").hover(function(){clearInterval(o)})}})}f(".click-pop").popover({trigger:"click"}).on("click",function(o){o.preventDefault;return false});f(".hover-pop").popover({trigger:"hover focus",html:true});f(".hover-tip").tooltip({trigger:"hover",container:"body"});f(".click-tip").tooltip({trigger:"click",container:"body"});f("a.form-submit").on("click",function(){f(this).closest("form").submit();return false});f(document).on("click",".kleo-open-href",function(o){if(f(this).attr("data-href")!=""){window.location.href=f(this).attr("data-href")}});if((f(".porto-video").length||f(".porto-hosted_video").length)){f(".portfolio-items").imagesLoaded(function(){k.portfolioVideo()});b.on("debouncedresize",k.portfolioVideo)}if(f(".porto-video").length){f("iframe").each(function(){var o=f(this);var p="";p=o.attr("src");if(p.indexOf("//www.youtube.com/embed/")>-1){o.attr("src",p+"&autohide=1")}if(p.indexOf("//player.vimeo.com/")>-1){if(p.indexOf("?")>-1){o.attr("src",p+"&title=0&byline=0&portrait=0")}else{o.attr("src",p+"?title=0&byline=0&portrait=0")}}})}f("a.kleo-login-switch").on("click",function(){var o=f(this).parent().parent().parent();o.find(".lostpass-form-inline").slideUp(100,function(){o.find(".login-form-inline").slideDown(400)});return false});f("a.kleo-lostpass-switch").on("click",function(){var o=f(this).parent().parent().parent();o.find(".login-form-inline").slideUp(100,function(){o.find(".lostpass-form-inline").slideDown(400)});return false});k.flexFallback()},refreshContentTabs:function(p){f(".kleo-carousel, .kleo-banner-items").trigger("updateSizes");n.init();var q=f(p).find(".wpb_gmaps_widget");if(q.length&&!q.is(".map_ready")){var o=q.find("iframe");o.attr("src",o.attr("src"));q.addClass("map_ready")}},openTabHash:function(){var u=location.hash,v=u.split("?"),t="link_";if(u&&u!=""){var o=f('.nav-tabs a[href="'+v[0].replace(t,"")+'"]');var q=f('.nav-tab a[href="'+v[0].replace(t,"")+'"]');var p=f('.panel-group a[href="'+v[0].replace(t,"")+'"]');if(o.length){o.tab("show")}if(q.length){q.tab("show")}if(p.length){if(!p.hasClass("collapsed")){p.trigger("click")}}}var s=f(".nav-tabs a, .nav-tab a"),r=f(".panel-group .panel-collapse");s.on("shown.bs.tab",function(w){window.location.hash=w.target.hash.replace("#","#"+t)});s.on("hidden.bs.tab",function(w){history.pushState("",document.title,window.location.pathname+window.location.search)});r.on("shown.bs.collapse",function(w){if(f(this).attr("id")){window.location.hash="#"+t+f(this).attr("id")}});r.on("hidden.bs.collapse",function(w){history.pushState("",document.title,window.location.pathname+window.location.search)})},portfolioVideo:function(){var o=f(".porto-video .kleo-video-embed");o.height(function(){var p=160;console.log(kleoFramework.portfolioVideoHeight);if(kleoFramework.hasOwnProperty("portfolioVideoHeight")&&kleoFramework.portfolioVideoHeight!=0){p=kleoFramework.portfolioVideoHeight}var q=f(this).closest(".portfolio-items").find(".portfolio-image img, .kleo-banner-slider img").eq(0);return q.length&&q.height()>50?q.height():p})},notReadyInit:function(){h.loadLogoImg();f(".responsive-tabs, .nav-pills, .top-menu > ul, #top-social > ul").tabdrop()},kleoMenuWidget:function(){var o=jQuery(".widget_nav_menu ul.sub-menu").parent("li");o.addClass("parent");o.children("a").append('<span class="caret"></span>');o.find(".caret").click(function(){jQuery(this).closest(".parent").children(".sub-menu").stop(true,true).slideToggle("fast");jQuery(this).toggleClass("active");return false})},adjustHeights:function(p){var o=2;if(f(p).height()>f(p).parent().height()||f(p).width()>f(p).parent().width()){f(p).css("font-size",((f(p).css("font-size").substr(0,2)-o))+"px").css("line-height",((f(p).css("font-size").substr(0,2)))+"px");adjustHeights(p)}},removeOverflowHidden:function(){f("body").on("click",function(){if(f("#buddypress .tabdrop").hasClass("open")){f("#buddypress div#item-nav").css("overflow","hidden")}});f(".item-list-tabs .dropdown-toggle").on("click",function(){if(f("#buddypress .tabdrop").hasClass("open")){f("#buddypress div#item-nav").css("overflow","hidden")}else{f("#buddypress div#item-nav").css("overflow","visible")}})},bannerSlider:function(){f(".kleo-banner-slider").animate({opacity:"1"},700);f(".kleo-banner-slider").each(function(){var r=f(this).find(".kleo-banner-items");var p=f(this).find(".kleo-banner-prev");var o=f(this).find(".kleo-banner-next");var q=2000;if(r.data("speed")){q=parseInt(r.data("speed"))}r.imagesLoaded(function(){r.carouFredSel({responsive:true,circular:false,infinite:true,auto:{play:true,pauseDuration:0,duration:q},scroll:{items:1,duration:600,easing:"easeInOutExpo",wipe:true},prev:p,next:o,items:{height:"variable",visible:1}});r.swipe({excludedElements:"",threshold:40,swipeLeft:function(){r.trigger("next",1);setTimeout(function(){r.trigger("updateSizes")},600)},swipeRight:function(){r.trigger("prev",1);setTimeout(function(){r.trigger("updateSizes")},600)},})})})},carouselItems:function(){f(".kleo-carousel-items").each(function(){var w=f(this);var y=w.children(".kleo-carousel");var o=w.closest(".kleo-carousel-container").find(".carousel-arrow .carousel-prev");var p=w.closest(".kleo-carousel-container").find(".carousel-arrow .carousel-next");var q=w.closest(".kleo-carousel-container").find(".kleo-carousel-pager");var v,z="auto",s=null,u=false,r="resume",x="scroll",t=2000;if(w.data("pager")){q=w.closest(".kleo-carousel-container").find(w.data("pager"))}if(w.data("autoplay")){u=true}if(w.data("speed")){t=parseInt(w.data("speed"))}if(w.data("items-height")){z=w.data("items-height")}if(w.data("items-width")){s=w.data("items-width")}if(w.data("scroll-fx")){x=w.data("scroll-fx")}if(w.data("min-items")&&w.data("max-items")){v={min:w.data("min-items"),max:w.data("max-items")}}y.imagesLoaded(function(){y.carouFredSel({responsive:true,width:"100%",pagination:q,prev:o,next:p,auto:{play:u,pauseOnHover:r},scroll:{items:1,duration:600,fx:x,easing:"swing",timeoutDuration:t,wipe:true},items:{width:s,height:z,visible:v}}).visible();y.swipe({excludedElements:"",threshold:40,swipeLeft:function(){y.trigger("next",1);setTimeout(function(){y.trigger("updateSizes")},600)},swipeRight:function(){y.trigger("prev",1);setTimeout(function(){y.trigger("updateSizes")},600)},})})});if(f(".kleo-thumbs-carousel").length){f(".kleo-thumbs-carousel").each(function(){var q=f(this),p=6,o=false;if(q.data("min-items")&&q.data("max-items")){p={min:q.data("min-items"),max:q.data("max-items")}}if(q.data("circular")){o=true}q.imagesLoaded(function(){q.carouFredSel({responsive:true,circular:o,infinite:true,auto:false,prev:{button:function(){return f(this).parents(".kleo-gallery").find(".kleo-thumbs-prev")}},next:{button:function(){return f(this).parents(".kleo-gallery").find(".kleo-thumbs-next")}},scroll:{items:1},items:{height:"auto",visible:p}});q.swipe({excludedElements:"",threshold:40,swipeLeft:function(){q.trigger("next",1);setTimeout(function(){q.trigger("updateSizes")},600)},swipeRight:function(){q.trigger("prev",1);setTimeout(function(){q.trigger("updateSizes")},600)},})})})}f(".kleo-thumbs-carousel a").click(function(){f(this).closest(".kleo-gallery-container").find(".kleo-gallery-image").trigger("slideTo","#"+this.href.split("#").pop());f(".kleo-thumbs-carousel a").removeClass("selected");f(this).addClass("selected");return false});if(f(".kleo-gallery-image").length){f(".kleo-gallery-image").imagesLoaded(function(){f(".kleo-gallery-image").carouFredSel({responsive:true,circular:false,auto:false,items:{height:"variable",visible:1},scroll:{items:1,fx:"crossfade"}});f(".kleo-gallery-image").swipe({excludedElements:"",threshold:40,swipeLeft:function(){f(".kleo-gallery-image").trigger("next",1);setTimeout(function(){f(".kleo-gallery-image").trigger("updateSizes")},600)},swipeRight:function(){f(".kleo-gallery-image").trigger("prev",1);setTimeout(function(){f(".kleo-gallery-image").trigger("updateSizes")},600)},})})}},rtMediaslider:function(){f(".rtmedia-activity-container").each(function(){if(f(this).find(".rtmedia-list .media-type-photo").length<1){return true}f(this).append('<div class="activity-feed-prev">&nbsp;</div><div class="activity-feed-next">&nbsp;</div>');var p=f(this).find(".activity-feed-prev");var o=f(this).find(".activity-feed-next");var q=f(this).find(".rtmedia-list");q.imagesLoaded(function(){q.carouFredSel({responsive:true,circular:false,auto:{play:true,pauseDuration:0,duration:2000},scroll:{items:1,duration:600,easing:"easeInOutExpo",wipe:true},prev:p,next:o,items:{height:"auto",visible:{min:1,max:4}}});q.swipe({excludedElements:"",threshold:40,swipeLeft:function(){q.trigger("next",1);setTimeout(function(){q.trigger("updateSizes")},600)},swipeRight:function(){q.trigger("prev",1);setTimeout(function(){q.trigger("updateSizes")},600)},})})})},newsTicker:function(){var o={delay:1000,easing:"linear",items:1,duration:0.07,timeoutDuration:0,pauseOnHover:"immediate"};f(".news-ticker").each(function(){f(this).carouFredSel({width:1000,align:false,items:{width:"variable",visible:1},scroll:o});f(this).closest(".caroufredsel_wrapper").css("width","100%")})},initPins:function(){f(".kleo-pin-circle, .kleo-pin-poi, .kleo-pin-icon").each(function(){var o="";if(f(this).is("[data-top]")){f(this).css({top:f(this).attr("data-top")+o})}if(f(this).is("[data-left]")){f(this).css({left:f(this).attr("data-left")+o})}if(f(this).is("[data-right]")){f(this).css({right:f(this).attr("data-right")+o})}if(f(this).is("[data-bottom]")){f(this).css({bottom:f(this).attr("data-bottom")+o})}})},goTop:function(){f(window).scroll(function(){if(f(this).scrollTop()>500){f(".kleo-go-top, .kleo-quick-contact-wrapper").removeClass("off").addClass("on")}else{f(".kleo-go-top, .kleo-quick-contact-wrapper").removeClass("on").addClass("off")}});f(".kleo-go-top, .divider-go-top").click(function(){f("html, body").animate({scrollTop:0},800);return false});f(".kleo-classic-comments").click(function(){f("html, body").animate({scrollTop:f("#comments").offset().top},800)})},magnificPopupModals:function(){if(window.location.hash){var o=window.location.hash.substring(1);if(o=="show-login"&&!f("body").hasClass("logged-in")){f.magnificPopup.open({items:{src:"#kleo-login-modal",type:"inline",focus:"#username"},preloader:false,mainClass:"kleo-mfp-zoom"})}}f(".kleo-show-login, .bp-menu.bp-login-nav a, .must-log-in > a").magnificPopup({items:{src:"#kleo-login-modal",type:"inline",focus:"#username"},preloader:false,mainClass:"kleo-mfp-zoom",callbacks:{beforeOpen:function(){if(f(window).width()<700){this.st.focus=false}else{this.st.focus="#username"}}}});f(".kleo-show-lostpass").magnificPopup({items:{src:"#kleo-lostpass-modal",type:"inline",focus:"#forgot-email"},preloader:false,mainClass:"kleo-mfp-zoom",callbacks:{beforeOpen:function(){if(f(window).width()<700){this.st.focus=false}else{this.st.focus="#forgot-email"}}}});f(".kleo-show-register").magnificPopup({items:{src:"#kleo-register-modal",type:"inline",focus:"#reg-username"},preloader:false,mainClass:"kleo-mfp-zoom",callbacks:{beforeOpen:function(){if(f(window).width()<700){this.st.focus=false}else{this.st.focus="#reg-username"}}}})},magnificPopupGallery:function(){f("a[data-rel^='prettyPhoto'], a[rel^='prettyPhoto'], a[rel^='modalPhoto'], a[data-rel^='modalPhoto'], .article-content a[href$=jpg]:has(img), .article-content a[href$=JPG]:has(img), .article-content a[href$=jpeg]:has(img), .article-content a[href$=JPEG]:has(img), .article-content a[href$=gif]:has(img), .article-content a[href$=GIF]:has(img), .article-content a[href$=bmp]:has(img), .article-content a[href$=BMP]:has(img), .article-content a[href$=png]:has(img), .article-content a[href$=PNG]:has(img)").magnificPopup({type:"image",mainClass:"mfp-img-pop",gallery:{enabled:true}});f(".gallery, .modal-gallery").each(function(){f(this).magnificPopup({delegate:f(this).find("a[href$=jpg], a[href$=JPG], a[href$=jpeg], a[href$=JPEG], a[href$=png], a[href$=PNG], a[href$=gif], a[href$=GIF], a[href$=bmp], a[href$=BMP]").has("img"),type:"image",mainClass:"mfp-gallery-pop",navigateByImgClick:true,gallery:{enabled:true,navigateByImgClick:true,preload:[0,1]}})})},doingLikesRequest:false,likes:function(){f(".item-likes").on("click",function(){var o=f(this);if(o.hasClass("liked")||k.doingLikesRequest===true){return false}var q=f(this).attr("id"),p=o.find(".item-likes-postfix").text();f.ajax({type:"POST",url:kleoFramework.ajaxurl,data:{action:"item-likes",likes_id:q,postfix:p},beforeSend:function(){k.doingLikesRequest=true},success:function(r){o.html(r).addClass("liked").attr("title",kleoFramework.alreadyLiked)},complete:function(){k.doingLikesRequest=false}});return false});if(f("body.ajax-item-likes").length){f(".item-likes").each(function(){var o=f(this).attr("id");f(this).load(kleoFramework.ajaxurl,{action:"item-likes",post_id:o})})}},getURLParameters:function(q){var o={};var p=q.indexOf("?");if(p==-1){return o}var t=q.substring(p+1);var s=t.split("&");for(var r=0;r<s.length;r++){var u=s[r].split("=");o[u[0]]=u[1]}return o},progressBar:function(){if(typeof jQuery.fn.waypoint!=="undefined"){f(".vc_progress_bar").waypoint(function(){f(this).find(".vc_single_bar").each(function(o){var q=f(this),p=q.find(".vc_bar"),r=p.data("percentage-value");setTimeout(function(){p.css({width:r+"%"})},o*200)})},{offset:"85%"})}},kleoAjaxLogin:function(){f("form#login_form").on("submit",function(o){f("#kleo-login-result").show().html(kleoFramework.loadingmessage);f.ajax({type:"POST",dataType:"json",url:kleoFramework.loginUrl,data:{action:"kleoajaxlogin",log:f("form#login_form #username").val(),pwd:f("form#login_form #password").val(),rememberme:(f("form#login_form #rememberme").is(":checked")?true:false),security:f("form#login_form #security").val()},success:function(p){f("#kleo-login-result").html(p.message);if(p.loggedin==true){if(p.redirecturl==null){document.location.reload()}else{document.location.href=p.redirecturl}}},complete:function(){},error:function(){f("form#login_form, #login_panel").off("submit");f("#login_form").submit()}});o.preventDefault()})},kleoAjaxLostPass:function(){f("#forgot_form").on("submit",function(){f("#kleo-lost-result").show().html(kleoFramework.loadingmessage);f.ajax({url:kleoFramework.ajaxurl,type:"POST",data:{action:"kleo_lost_password",user_login:f("#forgot-email").val()},success:function(o){f("#kleo-lost-result").html(o)},error:function(){f("#kleo-lost-result").html("Sorry, an error occurred.").css("color","red")}});return false})},flexFallback:function(){var p=document.body||document.documentElement,p=p.style;if(p.webkitFlexWrap==""||p.msFlexWrap==""||p.flexWrap==""){return true}var o=f("#main-container > .row"),r=o.find(".template-page, .sidebar"),q=function(){r.css("height","auto");var v=Math.floor(o.width()/r.width());if(v==null||v<2){return true}for(var u=0,t=r.length;u<t;u+=v){var w=0,s=r.slice(u,u+v);s.each(function(){var x=parseInt(f(this).outerHeight());if(x>w){w=x}});s.css("height",w)}};q();f(window).on("resize",q);o.find("img").on("load",q)}};var g={rehreshID:null,init:function(){f("#buddypress div#item-nav").css("background-image","none");f("body").on("gridloaded",function(){n.applyGridIsotpe(".kleo-isotope");f(".animate-when-almost-visible").kleo_waypoints({offset:"90%"})});f("body").on("bpActivityLoaded",function(){f(".animate-when-almost-visible").kleo_waypoints({offset:"90%"});k.rtMediaslider();f(".activity-inner").fitVids()});if(typeof(rtMediaHook)!="undefined"){rtMediaHook.register("rtmedia_after_gallery_load",function(){f(".el-zero-fade").kleo_waypoints({offset:"90%"})})}if(f(".kleo-notifications-nav").length){f(".navbar").on("click",".kleo-notifications-nav a.mark-as-read",function(o){g.notificationsRead(f(this));o.preventDefault()});if(kleoFramework.hasOwnProperty("bpNotificationsRefresh")&&kleoFramework.bpNotificationsRefresh!="0"){g.notificationsRefresh()}}},notificationsRefresh:function(){g.rehreshID=setInterval(function(){var o={action:"kleo_bp_notifications_refresh",current:f(".kleo-notifications-nav .kleo-notifications").first().text()};f.ajax({url:kleoFramework.ajaxurl,type:"GET",dataType:"json",data:o,success:function(p){if(p.status=="success"){if(p.count=="0"){f(".kleo-notifications-nav .minicart-buttons").hide();f(".kleo-notifications-nav .kleo-notifications").removeClass("new-alert").addClass("no-alert");f(".kleo-notifications-nav .submenu-inner").removeClass("has-notif")}else{f(".kleo-notifications-nav").addClass("kleo-loading");f(".kleo-notifications-nav .kleo-notifications").removeClass("no-alert").addClass("new-alert");f(".kleo-notifications-nav .submenu-inner").addClass("has-notif");f(".kleo-notifications-nav .minicart-buttons").show()}f(".kleo-notifications-nav .kleo-notifications").text(p.count);f(".kleo-notifications-nav .submenu-inner").html(p.data)}else{}},complete:function(){f(".kleo-notifications-nav").removeClass("kleo-loading")}})},kleoFramework.bpNotificationsRefresh)},notificationsRead:function(p){var o={action:"kleo_bp_notification_mark_read"};f.ajax({url:kleoFramework.ajaxurl,type:"GET",dataType:"json",data:o,beforeSend:function(){f(".kleo-notifications-nav").addClass("kleo-loading")},success:function(q){if(q.status=="success"){if(q.count=="0"){f(".kleo-notifications-nav .submenu-inner").html(q.empty);f(".kleo-notifications-nav .minicart-buttons").hide();f(".kleo-notifications-nav .kleo-notifications").removeClass("new-alert").addClass("no-alert");f(".kleo-notifications-nav .submenu-inner").removeClass("has-notif")}else{f(".kleo-notifications-nav .kleo-notifications").removeClass("no-alert").addClass("new-alert");f(".kleo-notifications-nav .submenu-inner").addClass("has-notif");f(".kleo-notifications-nav .minicart-buttons").show()}f(".kleo-notifications-nav .kleo-notifications").text(q.count)}else{}},complete:function(){f(".kleo-notifications-nav").removeClass("kleo-loading")}})}};var a={wooGalItems:[],wooMainImg:f(".woocommerce-main-image"),init:function(){a.productQuickView();a.removeCartProduct();if(f(".kleo-woo-gallery a.zoom").length<2){f(".woo-main-image-nav").hide()}if(f(".kleo-woo-gallery a.zoom").length){a.startMultiGallery();f(".kleo-woo-next").on("click",function(p){p.preventDefault();f(".kleo-thumbs-carousel").trigger("next");if(f(".kleo-woo-gallery a.zoom.selected").nextAll("a.zoom:eq(0)").length){var o=f(".kleo-woo-gallery a.zoom.selected").nextAll("a.zoom:eq(0)");a.setSelected(o)}});f(".kleo-woo-prev").on("click",function(p){p.preventDefault();f(".kleo-thumbs-carousel").trigger("prev");if(f(".kleo-woo-gallery a.zoom.selected").prevAll("a.zoom:eq(0)").length){var o=f(".kleo-woo-gallery a.zoom.selected").prevAll("a.zoom:eq(0)");a.setSelected(o)}})}else{a.startSingleGallery()}},setSelected:function(o){f(".woocommerce-main-image img").attr("src",o.attr("href")).parent("a").attr("href",o.attr("data-big-img"));f(".kleo-woo-gallery a.zoom").removeClass("selected");o.addClass("selected");a.updateGalleryItems(o)},startSingleGallery:function(){a.wooMainImg.magnificPopup({type:"image",mainClass:"kleo-mfp-zoom",removalDelay:300,closeOnContentClick:true,image:{verticalFit:false}})},startMultiGallery:function(){a.updateGalleryItems(f(".kleo-woo-gallery a.zoom.selected"));a.wooMainImg.on("click",function(o){o.preventDefault()});a.wooMainImg.magnificPopup({items:a.wooGalItems,type:"image",mainClass:"kleo-mfp-zoom",removalDelay:300,closeOnContentClick:true,gallery:{enabled:true},image:{verticalFit:false}});a.wooMainImg.on("mfpBeforeOpen",function(){f.magnificPopup.instance.items=a.wooGalItems;f.magnificPopup.instance.updateItemHTML()});f(".kleo-woo-gallery a.zoom").on("click",function(o){o.preventDefault();a.setSelected(f(this));return false})},updateGalleryItems:function(p){a.wooGalItems=[{src:p.attr("href")}];var o;f(".kleo-woo-gallery a.zoom:not(.selected)").each(function(){o={src:f(this).attr("href")};a.wooGalItems.push(o)})},productQuickView:function(){f(".navbar, #main").on("click",".quick-view",function(r){var o=f(this);var p=f(this).attr("data-prod");var q={action:"woo_quickview",product:p};f.ajax({url:kleoFramework.ajaxurl,type:"POST",data:q,beforeSend:function(){o.addClass("kleo-loading")},success:function(s){f.magnificPopup.open({mainClass:"kleo-mfp-zoom",items:{src:'<div id="productModal" class="product-modal main-color">'+s+"</div>",type:"inline"}});setTimeout(function(){k.carouselItems();f(".product-modal form").wc_variation_form();f(".product-modal form select").change()},500)},complete:function(){o.removeClass("kleo-loading")}});r.preventDefault()})},removeCartProduct:function(){f(".navbar").on("click",".kleo-minicart a.remove",function(s){var o=f(this),p={action:"kleo_woo_rem_item"},q=k.getURLParameters(o.attr("href"));f.extend(p,q);var r={kleo_item:p.remove_item};delete p.remove_item;f.extend(p,r);f.ajax({url:kleoFramework.ajaxurl,type:"GET",dataType:"json",data:p,beforeSend:function(){f(".shop-drop").addClass("kleo-loading")},success:function(t){if(t.hasOwnProperty("cart")&&t.hasOwnProperty("count")){f(".kleo-toggle-menu.shop-drop .kleo-toggle-submenu").html(t.cart);f(".kleo-toggle-menu.shop-drop .cart-items > span, .mheader .cart-items > span").html(t.count);if(t.count==""){f(".kleo-toggle-menu.shop-drop .cart-items").removeClass("has-products");f(".kleo-toggle-menu.shop-drop .kleo-notifications").removeClass("new-alert");f(".kleo-toggle-menu.shop-drop .kleo-notifications").addClass("no-alert")}else{f(".kleo-toggle-menu.shop-drop .cart-items").addClass("has-products");f(".kleo-toggle-menu.shop-drop .kleo-notifications").addClass("new-alert");f(".kleo-toggle-menu.shop-drop .kleo-notifications").removeClass("no-alert")}}if(f(".widget_shopping_cart_content").length&&t.hasOwnProperty("widget")){f(".widget_shopping_cart_content").replaceWith(t.widget)}},complete:function(){f(".shop-drop").removeClass("kleo-loading")}});s.preventDefault()})}};var n={container:".kleo-isotope, .kleo-masonry",elContainer:f(".kleo-isotope, .kleo-masonry"),init:function(){if(n.elContainer.length>0){n.applyGridIsotpe(n.container)}},applyGridIsotpe:function(o,q){var p=f(o);p.each(function(){var r=f(this);var t;if(r.data("layout")=="fitRows"){t={layoutMode:"fitRows"}}q=typeof q!=="undefined"?true:false;if(q==false){t={}}if(n.elContainer.length>0&&n.viewport().width>=480){r.imagesLoaded(function(){r.isotope(t)})}f(window).on("debouncedresize",function(){r.isotope(t)});if(r.prev(".filter-wrap").length){var s=r.prev(".filter-wrap");s.on("click","a",function(){var u=f(this).data("filter");f(this).closest("ul").find("li").removeClass("selected");f(this).parent("li").addClass("selected");r.isotope({filter:u});r.find("li:visible").children("div.animate-when-almost-visible").addClass("start-animation");return false})}})},getWidth:function(o){var p;if(n.viewport().width<480){p=o.width()/1}else{if(n.viewport().width<768){p=o.width()/2}else{if(n.viewport().width<992){p=o.width()/2}else{if(n.viewport().width<1200){if(o.closest(".template-page").hasClass("col-sm-12")){p=o.width()/3}else{p=o.width()/2}}else{if(n.viewport().width<1440){if(o.closest(".template-page").hasClass("col-sm-12")){p=o.width()/4}else{p=o.width()/3}}else{if(o.closest(".template-page").hasClass("col-sm-12")){if(o.closest(".section-container").hasClass("container-full")){p=o.width()/6}else{p=o.width()/4}}else{p=o.width()/3}}}}}}return p},viewport:function(){var p=window,o="inner";if(!("innerWidth" in window)){o="client";p=document.documentElement||document.body}return{width:p[o+"Width"],height:p[o+"Height"]}}};var h={spacing:0,initialPos:(f(".kleo-main-header").length&&!f("body").hasClass("navbar-transparent"))?f(".kleo-main-header").offset().top:0,initialSize:88,isLogo:kleoFramework.logo==""?false:true,logoSize:88,logoImg:null,header:f(".kleo-main-header"),logo:f(".navbar-header .logo img"),elements:f(".navbar-header, .kleo-main-header .navbar-collapse > ul > li > a, .header-banner"),init:function(){if(h.isLogo){h.loadLogoImg();f(h.logoImg).imagesLoaded(function(){h.updateLogoSize(h.logoImg.height)},false)}if(f("#wpadminbar").length>0&&parseInt(b.width())>584){h.spacing=f("#wpadminbar").height()}if(!kleoFramework.headerHeight){h.initialSize=(f(".kleo-main-header #logo_img").length&&f(".kleo-main-header #logo_img").height()>10)?f(".kleo-main-header #logo_img").height():88}else{h.initialSize=kleoFramework.headerHeight}if(h.header.length){if(f("body.kleo-navbar-fixed.navbar-resize").length&&!h.header.hasClass("header-left")){if(h.isLogo){h.loadLogoImg();f(h.logoImg).imagesLoaded(function(){h.resizeLogo()},false)}else{h.resizeLogo()}b.scroll(h.resizeLogo);f(window).on("debouncedresize",h.resizeLogo)}else{if(h.header.hasClass("header-left")){h.initialLineHeight();if(f("body.kleo-navbar-fixed").length){if(f("body.navbar-resize").length){f(window).on("debouncedresize",h.resizeLogo);var o=b.scrollTop();if(o>200){h.resizeLogo(100);if(!f("body").hasClass("navbar-transparent")){h.header.css({top:h.spacing,position:"fixed"})}}}b.scroll(function(){var p=b.scrollTop();if(p>200){if(f("body.navbar-resize").length){h.resizeLogo(100)}if(!f("body").hasClass("navbar-transparent")){h.header.css({top:h.spacing,position:"fixed"})}}else{h.header.css({top:"auto",position:"static"});h.resizeLogo(200)}})}}else{h.initialLineHeight();if(f("body.kleo-navbar-fixed.navbar-transparent").length){var o=b.scrollTop();if(o>50){h.header.addClass("header-scrolled")}else{h.header.removeClass("header-scrolled")}b.scroll(function(){var p=b.scrollTop();if(p>50){h.header.addClass("header-scrolled")}else{h.header.removeClass("header-scrolled")}})}}}}if(i.hasClass("kleo-navbar-fixed")&&!h.header.hasClass("header-left")){h.enable_sticky()}h.enableRetinaLogo();h.topSocialExpander();if(f(".kleo_ajax_results").length){h.toggleAjaxSearch();h.doAjaxSearch()}if(n.viewport().width>992){f("#header .js-activated").dropdownHover({delay:100}).dropdown()}f(".js-activated").off("click");f("#header .caret").on("click",function(){var p=f(this).closest(".dropdown, .dropdown-submenu");if(p.hasClass("open")){p.removeClass("open")}else{p.addClass("open")}return false});h.dropdownToggle();h.scrollTo();h.sideMenu()},loadLogoImg:function(){if(h.isLogo&&!h.logoImg){h.logoImg=new Image();h.logoImg.src=kleoFramework.logo}},sideMenu:function(){f(".open-sidebar").on("click",function(){f("body").toggleClass("offcanvas-open");f(".offcanvas-sidebar").toggleClass("is-open");return false});f(".kleo-page").on("click",function(o){if(f(o.target).hasClass("open-sidebar")||f(o.target).closest(".open-sidebar").length>0){return}f("body").removeClass("offcanvas-open");f(".offcanvas-sidebar").removeClass("is-open")})},scrollTo:function(){f('.kleo-main-header .nav > li a[href^="#"], .kleo-scroll-to').on("click",function(p){var r="";var q=1000;if(f(this).attr("data-speed")&&f(this).data("speed")!=""){q=f(this).data("speed")}if(f(this).is("a")){r=h.getRelatedContent(this)}else{r=h.getRelatedContent(f(this).find('a[href^="#"]'))}var o=0;if(f("body").hasClass("kleo-navbar-fixed")){o+=h.initialSize;if(f("body").hasClass("navbar-resize")){o=o/2}}if(f("#wpadminbar").length){o+=f("#wpadminbar").height()}if(r.length){p.preventDefault();f("html, body").animate({scrollTop:r.offset().top-o},q)}});if(h.getRelatedNavigation(this)){f("section").waypoint(function(o){h.getRelatedNavigation(this).parents("li").toggleClass("active",o==="down")},{offset:150}).waypoint(function(o){h.getRelatedNavigation(this).parents("li").toggleClass("active",o==="up")},{offset:function(){return -f(this).height()+100}})}},getRelatedContent:function(o){return f(f(o).attr("href"))},getRelatedNavigation:function(o){if(f(o).attr("id")){return f(".kleo-main-header .nav > li a[href=#"+f(o).attr("id")+"]")}else{return false}},initialLineHeight:function(){h.elements.css({lineHeight:h.initialSize+"px"});h.elements.filter(":first").css({height:h.initialSize+"px"});if(kleoFramework.retinaLogo!=""){h.loadLogoImg();f(h.logoImg).imagesLoaded(function(){h.logo.css({maxHeight:h.logoSize+"px"})},false)}},resizeLogo:function(r){if(n.viewport().width<992){h.initialLineHeight();return}if(typeof r==="undefined"||typeof r==="object"){r=parseInt(h.initialPos)}h.elements=f(".navbar-header, .kleo-main-header .navbar-collapse > ul > li > a, .header-banner");var p=b.scrollTop(),o=0,q=h.initialSize/2;if(p>r){if(p<(r+h.initialSize/2)){o=h.initialSize-p+r;h.header.removeClass("header-scrolled");f(".btn-buy").removeClass("btn-default")}else{o=h.initialSize/2;h.header.addClass("header-scrolled");f(".btn-buy").addClass("btn-default")}if(o<q){o=q}h.elements.css({lineHeight:o+"px"});h.elements.filter(":first").css({height:o+"px"});if(kleoFramework.retinaLogo!=""){h.logo.css({maxHeight:(o/h.initialSize*h.logoSize)+"px"})}}else{o=h.initialSize;h.elements.filter(":first").css({height:o+"px"});if(kleoFramework.retinaLogo!=""){h.logo.css({maxHeight:h.logoSize+"px"})}h.elements.css({lineHeight:o+"px"});f(".btn-buy").removeClass("btn-default");h.header.removeClass("header-scrolled")}},enable_sticky:function(){f(".kleo-main-header").sticky({topSpacing:h.spacing})},updateLogoSize:function(o){if(o<h.initialSize){h.logoSize=o}else{h.logoSize=h.initialSize}},enableRetinaLogo:function(){if(f("#logo_img").length&&window.devicePixelRatio>1&&kleoFramework.retinaLogo!=""){var q=f("#logo_img"),p=kleoFramework.retinaLogo,o;h.loadLogoImg();f(h.logoImg).imagesLoaded(function(){q.attr("src",p);o=h.logoSize;if(f(".kleo-main-header").hasClass("header-scrolled")){o=o/2}q.css({"max-height":o+"px"});q.closest(".logo").addClass("retina-logo")},false)}},topSocialExpander:function(){f("#top-social li a").hover(function(){if(!f("#top-social .tabdrop").length||f("#top-social .tabdrop").hasClass("hide")){var o=f(this).children(".ts-text").outerWidth()+52;f(this).stop().animate({width:o},250,"")}},function(){if(f("#top-social .tabdrop").length||f("#top-social .tabdrop").hasClass("hide")){f(this).stop().animate({width:33},250,"")}})},toggleAjaxSearch:function(){f(".search-trigger").click(function(){if(f("#ajax_search_container").hasClass("searchHidden")){f("#ajax_search_container").removeClass("searchHidden").addClass("show_search_pop");f(this).next().find(".ajax_s").focus()}return false})},doAjaxSearch:function(o){var p={delay:350,minChars:3,scope:"body"};this.options=f.extend({},p,o);this.scope=f(this.options.scope);this.body=f("body");this.timer=false;this.doingSearch=false;this.lastVal="";this.request="";this.bind_ev=function(){this.scope.on("keyup",".ajax_s",f.proxy(this.test_search,this));this.body.on("mousedown",f.proxy(this.hide_search,this));f(".ajax_s").on("click focus",function(){var q=f(this).closest(".kleo-search-form").find(".kleo_ajax_results");if(!q.is(":empty")&&f.trim(f(this).val())!=""){q.slideDown("slow")}q.css("opacity","1");f(this).css("opacity","1")});this.body.on("mousedown",function(r){var q=f(r.target);if(!q.is(".kleo_ajax_results, .ajax_s")&&q.closest(".kleo_ajax_results").length==0){f(".kleo-search-form .kleo_ajax_results").css("opacity","0.5").slideUp("slow");f(".kleo-search-form .ajax_s").css("opacity","0.5")}})};this.test_search=function(q){clearTimeout(this.timer);if(f.trim(q.currentTarget.value)==""||f.trim(q.currentTarget.value.length)>=this.options.minChars){this.timer=setTimeout(f.proxy(this.search,this,q),this.options.delay)}};this.hide_search=function(r){var q=f(r.target);if(!q.is("#ajax_search_container")&&q.parents("#ajax_search_container").length==0){f("#ajax_search_container").addClass("searchHidden").removeClass("show_search_pop")}};this.search=function(w){var s=w.currentTarget;var v=this,u=f(s).closest("form"),t=f(s).closest(".kleo-search-wrap"),r=t.find(".kleo_ajax_results"),x=t.find(".kleo-ajax-search-loading"),q=u.serialize();q+="&action=kleo_ajax_search";if(u.data("context")){q+="&context="+u.data("context")}if(!r.length){return}if(v.doingSearch===true){this.request.abort()}if(this.lastVal==f.trim(s.value)){r.slideDown();return}if(f.trim(s.value)==""){r.slideUp("fast");return}this.lastVal=f.trim(s.value);this.request=f.ajax({url:kleoFramework.ajaxurl,type:"POST",data:q,beforeSend:function(){x.css("display","inline-block");v.doingSearch=true},success:function(y){if(y==0){y=""}if(r.is(":empty")){r.hide().html(y).slideDown("slow")}else{r.html(y).slideDown("slow")}},complete:function(){x.css("display","none");v.doingSearch=false;clearTimeout(v.timer)}})};this.bind_ev()},dropdownToggle:function(){f(".navbar").on("mouseenter",".kleo-toggle-menu",function(){clearTimeout(f(this).data("timeout"));f(".kleo-toggle-submenu").fadeOut(50);f(this).find(".kleo-toggle-submenu").fadeIn(50)});f(".navbar").on("mouseleave",".kleo-toggle-menu",function(){var p=f(this);var o=setTimeout(function(){p.find(".kleo-toggle-submenu").fadeOut(50)},400);f(this).attr("data-timeout",o)})}};var e={init:function(){if(b.width()>1024){f(".bg-parallax").each(function(){var o=f(this);b.scroll(function(){var p=-((b.scrollTop()-o.offset().top)/(o.data("prlx-speed")*100));var q="50% "+p+"px";o.css({backgroundPosition:q})})});e.changeSizes()}},changeSizes:function(){f(".bg-full-video video").on("loadedmetadata",function(){var v,p,s,u=f(this),r=u.closest(".bg-full-video").find(".section-container"),q=this.videoWidth,t=this.videoHeight,o=q/t;(v=function(){var x=r.width();var y=r.height();var w=x/y;var z=o/w;if(w<o){u.css({width:x*z+"px"})}else{u.css({width:x+"px"})}})();b.on("debouncedresize",v)})}};f(".kleo-quick-contact-wrapper").click(function(o){if(o.stopPropagation){o.stopPropagation()}else{if(window.event){window.event.cancelBubble=true}}});f("html").click(function(){f(this).find("#kleo-quick-contact").fadeOut(300);f(".kleo-quick-contact-link").removeClass("quick-contact-active")});f(".kleo-quick-contact-link").on("click",function(){if(!f(this).hasClass("quick-contact-active")){f("#kleo-quick-contact").fadeIn(300);f(this).addClass("quick-contact-active")}else{f("#kleo-quick-contact").fadeOut(300);f(this).removeClass("quick-contact-active")}return false});f(".kleo-contact-form").submit(c);function c(){var o=f(this);var p=o.serialize();o.find(".kleo-contact-success").html("");o.find(".kleo-contact-loading").show();f.ajax({type:"POST",url:kleoFramework.ajaxurl,data:p,success:function(q){o.find(".kleo-contact-loading").hide();o.find(".kleo-contact-success").html(q);if(o.find(".mail-success").length){o.find("input[type=text], input[type=email], textarea").val("")}},error:function(q){alert(q)}});return false}f.fn.kleo_enable_media=function(o){var p={};var o=f.extend(p,o);return this.each(function(){var q=f(this);q.mediaelementplayer({defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,audioWidth:"100%",audioHeight:30,startVolume:0.8,loop:false,enableAutosize:true,features:["playpause","progress","duration","volume","fullscreen"],alwaysShowControls:false,iPadUseNativeControls:false,iPhoneUseNativeControls:false,AndroidUseNativeControls:false,alwaysShowHours:false,showTimecodeFrameCount:false,framesPerSecond:25,enableKeyboard:true,pauseOtherPlayers:true,keyActions:[],success:function(r,s){r.addEventListener("loadedmetadata",function(t){if(f(s).closest(".kleo-masonry").length){n.applyGridIsotpe(n.container)}},false)}})})};f.fn.visible=function(){return this.css("visibility","visible")};f.fn.invisible=function(){return this.css("visibility","hidden")};f.fn.visibilityToggle=function(){return this.css("visibility",function(p,o){return(o=="visible")?"hidden":"visible"})};var b=jQuery(window),i=jQuery("body"),d=navigator.userAgent.toLowerCase(),m=d.match(/(iphone|ipod|ipad|android|iemobile)/);var j={init:function(){k.init();h.init();e.init();n.init();g.init();a.init();activate_waypoints();activate_shortcode_scripts();f("#buddypress div#group-dir-search input[type=text], #buddypress div#members-dir-search input[type=text]").focusin(function(){f(this).closest("form").css("min-width","90%")});f("#buddypress div#group-dir-search input[type=text], #buddypress div#members-dir-search input[type=text]").focusout(function(){f(this).closest("form").css("min-width","60%")})}};var l={init:function(){}};k.notReadyInit();jQuery(document).ready(j.init);jQuery(window).load(l.init)})(jQuery);function kleoSetCookie(b,g,e,c){if(typeof e==="undefined"){e="/"}var f=new Date();f.setTime(f.getTime()+(c*24*60*60*1000));var a="expires="+f.toUTCString();document.cookie=b+"="+g+"; "+a+"; path="+e};